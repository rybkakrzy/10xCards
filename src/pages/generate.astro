---
import Layout from '@/layouts/Layout.astro';
import { HomePage } from '@/components/home/HomePage';
import { Toaster } from '@/components/ui/sonner';

// Auth check - redirect to login if not authenticated
// @ts-ignore - Astro types not properly merged
const user = Astro.locals.user;

if (!user) {
  return Astro.redirect('/login');
}
---

<Layout title="Generuj fiszki - 10xCards">
  <HomePage client:load />
  <Toaster client:only="react" />
</Layout>

